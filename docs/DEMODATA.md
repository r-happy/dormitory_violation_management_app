# デモデータ仕様

開発・テスト・デモンストレーション用のサンプルデータ定義です。

## データベーススキーマ

![Database Schema](file:///home/rei/.gemini/antigravity/brain/79e1ed43-8909-4f5c-a52f-0db24b260045/uploaded_image_1765503747097.png)

---

## Gender（性別）

| gender_id | gender_name |
|-----------|-------------|
| 1 | 男性 |
| 2 | 女性 |
| 3 | その他 |

---

## ClassTeacher（担任教員）

| class_teacher_id | class_teacher_name | メールアドレス | パスワード |
|------------------|-------------------|--------------|-----------|
| 1 | 田中 花子 | tanaka@school.ac.jp | teacher123 |
| 2 | 佐藤 太郎 | sato@school.ac.jp | teacher123 |
| 3 | 鈴木 美咲 | suzuki@school.ac.jp | teacher123 |
| 4 | 高橋 健太 | takahashi@school.ac.jp | teacher123 |

---

## Class（クラス）

| class_id | class_name | class_teacher_id |
|----------|------------|------------------|
| 1 | 1年A組 | 1 |
| 2 | 1年B組 | 2 |
| 3 | 2年A組 | 3 |
| 4 | 2年B組 | 4 |
| 5 | 3年A組 | 1 |
| 6 | 3年B組 | 2 |

---

## DormitoryStaff（寮職員）

| dormitory_staff_id | dormitory_staff_name | メールアドレス | パスワード |
|--------------------|---------------------|--------------|-----------|
| 1 | 山田 次郎 | yamada@school.ac.jp | staff123 |
| 2 | 伊藤 美和 | ito@school.ac.jp | staff123 |
| 3 | 渡辺 浩二 | watanabe@school.ac.jp | staff123 |

---

## Student（学生）

| student_id | student_name | gender_id | class_id | room_number | メールアドレス | パスワード |
|------------|-------------|-----------|----------|-------------|--------------|-----------|
| 1 | 山本 太一 | 1 | 1 | 101 | yamamoto@student.ac.jp | student123 |
| 2 | 中村 花 | 2 | 1 | 102 | nakamura@student.ac.jp | student123 |
| 3 | 小林 健太 | 1 | 2 | 103 | kobayashi@student.ac.jp | student123 |
| 4 | 加藤 彩 | 2 | 2 | 104 | kato@student.ac.jp | student123 |
| 5 | 吉田 大輔 | 1 | 3 | 201 | yoshida@student.ac.jp | student123 |
| 6 | 山口 真理 | 2 | 3 | 202 | yamaguchi@student.ac.jp | student123 |
| 7 | 松本 翔太 | 1 | 4 | 203 | matsumoto@student.ac.jp | student123 |
| 8 | 井上 優子 | 2 | 4 | 204 | inoue@student.ac.jp | student123 |
| 9 | 木村 隆 | 1 | 5 | 301 | kimura@student.ac.jp | student123 |
| 10 | 林 麻衣 | 2 | 5 | 302 | hayashi@student.ac.jp | student123 |
| 11 | 斉藤 圭介 | 1 | 6 | 303 | saito@student.ac.jp | student123 |
| 12 | 清水 奈々 | 2 | 6 | 304 | shimizu@student.ac.jp | student123 |
| 13 | 森田 拓也 | 1 | 1 | 105 | morita@student.ac.jp | student123 |
| 14 | 池田 由美 | 2 | 2 | 106 | ikeda@student.ac.jp | student123 |
| 15 | 橋本 誠 | 1 | 3 | 205 | hashimoto@student.ac.jp | student123 |

---

## Reason（違反理由）

| reason_id | reason_name | point_value | 説明 |
|-----------|-------------|-------------|------|
| 1 | 門限違反 | -10 | 22:00以降の帰寮 |
| 2 | 清掃当番不履行 | -5 | 清掃当番を無断で欠席 |
| 3 | 騒音問題 | -8 | 深夜の騒音で他の学生に迷惑 |
| 4 | 無断外泊 | -15 | 届け出なしに外泊 |
| 5 | 共用スペース破損 | -20 | 寮の設備を故意に破損 |
| 6 | 喫煙 | -25 | 寮内での喫煙（禁止事項） |
| 7 | 飲酒 | -20 | 未成年の飲酒 |
| 8 | ゴミ分別違反 | -3 | ゴミの分別ルール違反 |
| 9 | 点呼欠席 | -5 | 定期点呼への無断欠席 |
| 10 | 他室訪問時間違反 | -5 | 許可時間外の他室訪問 |
| 11 | ボランティア活動 | +10 | 地域ボランティアへの参加 |
| 12 | 寮行事協力 | +5 | 寮のイベント運営協力 |
| 13 | 清掃活動 | +3 | 自主的な共用部清掃 |
| 14 | 模範行動 | +8 | 他の学生の模範となる行動 |

---

## Violation（違反記録）

### 係属中の違反

| violation_id | student_id | reason_id | created_at | updated_at | processing_status |
|--------------|------------|-----------|------------|------------|-------------------|
| 1 | 1 | 1 | 2024-12-01 22:30:00 | 2024-12-01 22:30:00 | pending |
| 2 | 3 | 2 | 2024-12-02 08:00:00 | 2024-12-02 08:00:00 | pending |
| 3 | 5 | 3 | 2024-12-03 01:15:00 | 2024-12-03 01:15:00 | pending |
| 4 | 7 | 10 | 2024-12-04 23:00:00 | 2024-12-04 23:00:00 | pending |
| 5 | 9 | 8 | 2024-12-05 10:00:00 | 2024-12-05 10:00:00 | pending |

### 確定済みの違反

| violation_id | student_id | reason_id | created_at | updated_at | processing_status |
|--------------|------------|-----------|------------|------------|-------------------|
| 6 | 2 | 1 | 2024-11-15 22:45:00 | 2024-11-16 09:00:00 | confirmed |
| 7 | 4 | 2 | 2024-11-18 08:00:00 | 2024-11-18 14:00:00 | confirmed |
| 8 | 6 | 9 | 2024-11-20 20:00:00 | 2024-11-21 08:00:00 | confirmed |
| 9 | 8 | 1 | 2024-11-22 23:10:00 | 2024-11-23 09:00:00 | confirmed |
| 10 | 10 | 3 | 2024-11-25 00:30:00 | 2024-11-25 10:00:00 | confirmed |

### 異議申し立て中

| violation_id | student_id | reason_id | created_at | updated_at | processing_status |
|--------------|------------|-----------|------------|------------|-------------------|
| 11 | 11 | 1 | 2024-11-28 22:20:00 | 2024-11-29 09:00:00 | appealing |
| 12 | 13 | 4 | 2024-11-30 - | 2024-11-30 10:00:00 | appealing |

### ポジティブな記録（ポイント加算）

| violation_id | student_id | reason_id | created_at | updated_at | processing_status |
|--------------|------------|-----------|------------|------------|-------------------|
| 13 | 2 | 11 | 2024-11-10 - | 2024-11-10 15:00:00 | confirmed |
| 14 | 4 | 12 | 2024-11-12 - | 2024-11-12 16:00:00 | confirmed |
| 15 | 6 | 13 | 2024-11-15 - | 2024-11-15 12:00:00 | confirmed |
| 16 | 8 | 11 | 2024-11-18 - | 2024-11-18 14:00:00 | confirmed |
| 17 | 12 | 14 | 2024-11-20 - | 2024-11-20 10:00:00 | confirmed |

---

## 学生別ポイント集計（参考）

各学生の現在のポイント状況（デモデータ基準）：

| student_id | student_name | 合計ポイント | 違反回数 | 加算回数 | 係属中 |
|------------|-------------|------------|---------|---------|--------|
| 1 | 山本 太一 | -10 | 1 | 0 | 1 |
| 2 | 中村 花 | 0 | 1 | 1 | 0 |
| 3 | 小林 健太 | -5 | 1 | 0 | 1 |
| 4 | 加藤 彩 | 0 | 1 | 1 | 0 |
| 5 | 吉田 大輔 | -8 | 1 | 0 | 1 |
| 6 | 山口 真理 | -2 | 1 | 1 | 0 |
| 7 | 松本 翔太 | -5 | 1 | 0 | 1 |
| 8 | 井上 優子 | 0 | 1 | 1 | 0 |
| 9 | 木村 隆 | -3 | 1 | 0 | 1 |
| 10 | 林 麻衣 | -8 | 1 | 0 | 0 |
| 11 | 斉藤 圭介 | -10 | 1 | 0 | 1 |
| 12 | 清水 奈々 | +8 | 0 | 1 | 0 |
| 13 | 森田 拓也 | -15 | 1 | 0 | 1 |

---

## テストケース用データパターン

### 認証テスト用アカウント

#### 寮職員
- **Email**: `yamada@school.ac.jp`
- **Password**: `staff123`
- **権限**: 全機能アクセス可能

#### 教員
- **Email**: `tanaka@school.ac.jp`
- **Password**: `teacher123`
- **権限**: 自クラスの学生閲覧、違反記録閲覧

#### 学生
- **Email**: `yamamoto@student.ac.jp`
- **Password**: `student123`
- **権限**: 自分の記録閲覧、申請機能

### エッジケース

1. **ポイント0の学生**: 中村 花 (ID: 2) - 違反と加算が相殺
2. **プラスポイントのみ**: 清水 奈々 (ID: 12) - 違反なし
3. **複数違反**: 山本 太一 (ID: 1) - 係属中の違反あり
4. **異議申し立て中**: 斉藤 圭介 (ID: 11) - 処理中の異議
5. **無外泊違反**: 森田 拓也 (ID: 13) - 重大違反（-15ポイント）

---

## データ投入SQL（参考）

```sql
-- Gender
INSERT INTO Gender (gender_id, gender_name) VALUES
(1, '男性'), (2, '女性'), (3, 'その他');

-- ClassTeacher
INSERT INTO ClassTeacher (class_teacher_id, class_teacher_name) VALUES
(1, '田中 花子'), (2, '佐藤 太郎'), (3, '鈴木 美咲'), (4, '高橋 健太');

-- Class
INSERT INTO Class (class_id, class_name, class_teacher_id) VALUES
(1, '1年A組', 1), (2, '1年B組', 2), (3, '2年A組', 3),
(4, '2年B組', 4), (5, '3年A組', 1), (6, '3年B組', 2);

-- DormitoryStaff
INSERT INTO DormitoryStaff (dormitory_staff_id, dormitory_staff_name) VALUES
(1, '山田 次郎'), (2, '伊藤 美和'), (3, '渡辺 浩二');

-- Student (簡略版、実際にはUUIDとハッシュ化パスワードを使用)
INSERT INTO Student (student_id, gender_id, class_id, room_number) VALUES
(1, 1, 1, '101'), (2, 2, 1, '102'), (3, 1, 2, '103'),
(4, 2, 2, '104'), (5, 1, 3, '201'), (6, 2, 3, '202'),
(7, 1, 4, '203'), (8, 2, 4, '204'), (9, 1, 5, '301'),
(10, 2, 5, '302'), (11, 1, 6, '303'), (12, 2, 6, '304'),
(13, 1, 1, '105'), (14, 2, 2, '106'), (15, 1, 3, '205');

-- Reason
INSERT INTO Reason (reason_id, reason_name, point_value) VALUES
(1, '門限違反', -10), (2, '清掃当番不履行', -5), (3, '騒音問題', -8),
(4, '無断外泊', -15), (5, '共用スペース破損', -20), (6, '喫煙', -25),
(7, '飲酒', -20), (8, 'ゴミ分別違反', -3), (9, '点呼欠席', -5),
(10, '他室訪問時間違反', -5), (11, 'ボランティア活動', 10),
(12, '寮行事協力', 5), (13, '清掃活動', 3), (14, '模範行動', 8);
```

---

## データ管理ガイドライン

### セキュリティ
- ⚠️ **本番環境では使用禁止**: このデモデータは開発・テスト専用
- パスワードは必ずハッシュ化して保存
- UUIDは実際のUUIDライブラリで生成

### データリセット
開発環境でのデータリセット手順：
1. 全テーブルのTRUNCATE（外部キー制約に注意）
2. 上記SQLでデータ再投入
3. シーケンス/AUTO_INCREMENTのリセット

### 今後の拡張
- [ ] メニュー管理用データ
- [ ] 申請履歴データ
- [ ] 当番スケジュールデータ
- [ ] 寮費管理データ
